#!/bin/sh
# $NetBSD: script,v 1.1 2001/01/05 02:06:59 garbled Exp $
. /etc/default/rc.conf
CONFFILE="/etc/rc.conf"
echo -n "#Generated by smit on " >$CONFFILE
date >>$CONFFILE
echo "if [ -r /etc/default/rc.conf ]; then" >>$CONFFILE
echo "	. /etc/default/rc.conf" >>$CONFFILE
echo "fi" >>$CONFFILE
echo "rc_configured=YES" >>$CONFFILE
a=1
IFS="
"
for i in `smitty/system/rcconf/script3`
do
	ANS=$(echo `eval echo \\$${a}` | sed -e 's/ $//')
	if [ "$ANS" != "`eval echo \\$${i}`" ]; then
		if [ "$ANS" = "YES" -o "$ANS" = "NO" ]; then
			echo "$i=$ANS" >>$CONFFILE
		else
			echo "$i=\"$ANS\"" >>$CONFFILE
		fi
	fi
	a=`expr $a + 1`
done
echo "successfully wrote a new $CONFFILE"
cat $CONFFILE
