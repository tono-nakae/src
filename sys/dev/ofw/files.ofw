#
# First cut on Openfirmware interface
#

define	openfirm {}

# Generic disk support
device	ofdisk: disk
attach	ofdisk at openfirm
file	dev/ofw/ofdisk.c		ofdisk needs-flag

# Generic net support
define	kgdbofn { [ disable = 0 ] }
device	ofnet: ether, ifnet, kgdbofn
attach	ofnet at openfirm
file	dev/ofw/ofnet.c			ofnet | kgdb_ofn needs-flag
attach	kgdbif at kgdbofn with kgdb_ofn

# Generic console support
device	ofcons: tty
attach	ofcons at openfirm
file	dev/ofw/ofcons.c		ofcons needs-flag

# Generic RTC support
device ofrtc
attach	ofrtc at openfirm
file	dev/ofw/ofrtc.c			ofrtc needs-flag

# Generic bus support
device	ofbus: openfirm
attach	ofbus at openfirm
file	dev/ofw/ofbus.c			openfirm

device	ofroot: openfirm
attach	ofroot at root

