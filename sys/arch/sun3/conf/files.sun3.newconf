#	$NetBSD: files.sun3.newconf,v 1.30 1995/04/22 23:41:32 christos Exp $

#
# sun3-specific configuration info
#

# maxpartitions must be first item in files.${ARCH}.newconf
# maxpartitions 8

maxusers 2 8 64

# Standard stuff
file arch/sun3/sun3/autoconf.c
file arch/sun3/sun3/cache.c			havecache
file arch/sun3/sun3/conf.c		
file arch/sun3/sun3/control.c	
file arch/sun3/sun3/db_machdep.c		ddb
file arch/sun3/sun3/disksubr.c	
file arch/sun3/sun3/isr.c
file arch/sun3/sun3/machdep.c	
file arch/sun3/sun3/mem.c		
file arch/sun3/sun3/pmap.c		
file arch/sun3/sun3/stub.c		
file arch/sun3/sun3/sun3_startup.c	
file arch/sun3/sun3/trap.c		
file arch/sun3/sun3/vector.c		
file arch/sun3/sun3/vm_machdep.c	

file arch/m68k/fpe/fpu_emulate.c		fpu_emulate
file arch/m68k/m68k/copy.s
file dev/cons.c
file dev/cninit.c

# Declare our "catch-all" root node.
device mainbus at root {}
# Misc. mainbus things (catch-all)
# Control space hack
device obctl at mainbus {addr = -1, [level = -1]}
# Floating Point Unit
device fpu at mainbus {}
file arch/sun3/sun3/fpu.c		fpu

# Bus types
#
# The implementation of the bus_* functions in autoconfig.c
# requires these all to agree with <autoconf.h> struct bus_loc

# On-board MEMory space
device obmem at mainbus {addr = -1, [level = -1]}
# On-board I/O space
device obio  at mainbus {addr = -1, [level = -1]}
# VME Short space (D16)
device vmes  at mainbus {addr = -1, [level = -1], [vect = -1]}
# VME Long space (D32)
device vmel  at mainbus {addr = -1, [level = -1], [vect = -1]}

file arch/sun3/dev/obctl.c		obctl
file arch/sun3/dev/obio.c		obio
file arch/sun3/dev/obmem.c		obmem
file arch/sun3/dev/vme.c		vmes vmel

#
# Sun-compatible Frame Buffers (?)
#
define sunfb {}

#
# SCSI driver and associated stuff
#
define	scsi {}
file	scsi/scsi_base.c		scsi
file	scsi/scsi_ioctl.c		scsi
file	scsi/scsiconf.c			scsi

device	scsibus at scsi {target = -1, lun = -1}

device	sd at scsibus: disk
file	scsi/sd.c			sd needs-flag

device	st at scsibus: tape
file	scsi/st.c			st needs-flag

device	cd at scsibus: disk
file	scsi/cd.c			cd needs-flag

device	ch at scsibus: disk
file	scsi/ch.c			ch needs-flag

file	scsi/uk.c			uk needs-flag
file	scsi/su.c			su needs-flag

#
# On-Board I/O (OBIO)
#
device zs at obio: tty
file arch/sun3/dev/zs.c			zs needs-count

device eeprom at obio
file arch/sun3/dev/eeprom.c		eeprom

device clock at obio
file arch/sun3/sun3/clock.c		clock

device ie at obio, vmes: ifnet, ether
file arch/sun3/dev/if_ie.c		ie
file arch/sun3/dev/if_ie_subr.c		ie

device le at obio: ifnet, ether
file arch/sun3/dev/if_le.c		le
file arch/sun3/dev/if_le_subr.c		le

device si at obio, vmes: scsi
file	arch/sun3/dev/si.c		si

#
# On-Board MEMory (OBMEM)
#
device bwtwo at obmem: sunfb
file arch/sun3/dev/bw2.c		bwtwo needs-flag

device cgtwo at vmes: sunfb
file arch/sun3/dev/cg2.c		cgtwo needs-flag

device cgfour at obmem: sunfb
file arch/sun3/dev/cg4.c		cgfour needs-flag

file	arch/sun3/dev/bt_subr.c 	cgfour

#
# On-Board Control (OBCTL)
#
device idprom at obctl
file arch/sun3/dev/idprom.c		idprom needs-count

#
# Console (zs) related stuff
#
file arch/sun3/dev/kbd.c		zs
file arch/sun3/dev/event.c		zs
file arch/sun3/dev/kd.c			zs
file arch/sun3/dev/ms.c			zs
file arch/sun3/dev/fb.c

# This is obsolete...
pseudo-device prom
file arch/sun3/dev/prom.c		prom needs-flag

# SunOS compatibility
file	compat/sunos/sunos_exec.c		compat_sunos
file	compat/sunos/sunos_init_sysent.c	compat_sunos
file	compat/sunos/sunos_ioctl.c		compat_sunos
file	compat/sunos/sunos_misc.c		compat_sunos
#file	compat/sunos/sunos_syscalls.c		compat_sunos
file	arch/m68k/m68k/sunos_machdep.c		compat_sunos

# Major numbers for root/swap device configuration
major	{sd=7}	# SCSI disk
#major	{xy=3}	# Xylogics 450 and 451
#major	{xd=10}	# Xylogics 7053
#major	{rd=13}	# RAM disk (for mini-kernel)
#major	{vnd=??}	# vnode pseudo-device
