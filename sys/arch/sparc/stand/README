/*	$NetBSD: README,v 1.5 1995/09/16 23:20:24 pk Exp $ */

The sparc bootblocks are split into two parts: a small 1st-level program that
gets written right after the superblock in a partition (and is hence limited
in size to SBSIZE - DEV_BSIZE bytes), and a 2nd-level program that resides
in the filesystem proper.

The 1st-level program is loaded into memory by the PROM. It loads the second
stage program from a set of filesystem block numbers that are hard-coded
into it by the `installboot' program. The prototype code for the 1st-level
bootblocks is in `bootxx'.

The 2nd-level program (`boot') is normally installed in the root directory
as `/boot'. It uses the device drivers in the PROM and the stand-alone
filesystem code in `libsa.a' to locate and load the kernel.

Use the following command to install the 1st-level bootblocks in the
root filesystem (on `sd0a') using the file `/boot' as the second level
boot program:

	installboot /boot bootxx /dev/rsd0a

Note: This only works with securelevel <= 0 (see init.8 manual).

On machines with an Openboot Prom, the boot programs must retain the a.out
header when installed on disk. On the "old monitor" machines the a.out
header must be stripped off. Use the `-h' switch to leave the header on.
So, on an Openboot machine you do:

	installboot -h /boot bootxx /dev/rsd0a

Note: installboot should find this out by asking the kernel (sysctl).

