.\" $NetBSD: xfer,v 1.3 1999/01/13 07:30:10 ross Exp $	
.
Installation is supported from several media types, including:
.Bl -bullet -compact -offset indent
.It
Tape
.It
NFS
.It
Floppy
.It
FTP
.El
.(Note
Installing on a "bare" machine requires some bootable
device; either a tape or floppy drive or Sun-compatible NFS server
with MOP capabilities. (Yes, NetBSD/vax uses the same netboot
principles as Sun's does).
.Note)
.Pp
The procedure for transferring the distribution sets onto
installation media depends on the type of media. The most is up to
you, depending what you want to install, but preferred are to do
the installation over network as soon as the miniroot is installed.
.
.Ss2 Creating boot tapes
.
Fetch the two files from .../NetBSD-1.3/vax/tk50. Write them onto
the tape, first file1 and then file2. Under Ultrix this is done
just like this:
.D1 Ic "mt -f /dev/rmt0h rewind
.D1 Ic "dd if=tk50-file1-1.3 of=/dev/nrmt0h
.D1 Ic "dd if=tk50-file2-1.3 of=/dev/rmt0h
.D1 Ic "mt -f /dev/rmt0h rewoffl
.Pp
Under NetBSD this is done the same way, except for the tape name:
.D1 Ic "mt -f /dev/rmt8 rewind
.D1 Ic "dd if=tk50-file1-1.3 of=/dev/nrmt8
.D1 Ic "dd if=tk50-file2-1.3 of=/dev/rmt8
.D1 Ic "mt -f /dev/rmt8 rewoffl
.Pp
Of course, if you have a tape unit other than 0 you have to use
the corresponding unit number.
.Pp
If you are using any other OS to create bootable tapes, remember that
the blocksize
.Em must
be 512 for the file to be bootable! Otherwise it just won't work.
.
.Ss2 Creating boot floppies
.
Fetch the files from
.Dl \&.../NetBSD-1.3/vax/rx Ns Ar {50,33}
depending of which 
floppy you have. There are three or seven files depending of the
density of your floppies. Then just write the floppies using dd (under
Unix, if you are creating floppies from DOS use some nice utility
for that). There are one bootable floppy and a splitted miniroot image.
.
.Ss2 Booting from NFS server
.
All VAXen that can boot over network uses MOP, a DEC protocol.
To be able to use MOP, a MOP daemon must be present on one of
the machines on the local network. The boot principle is:
.Bl -bullet -compact -offset indent
.It
The VS2000 broadcast a wish to load an image.
.It
A mopd answers and send the boot program to the VAX.
.It
The boot program does rarp requests, mounts the root filesystem
and loads the kernel.
.It
The kernel is loaded and starts executing.
.El
.Pp
If your machine has a disk and network connection, it may be
convenient for you to install NetBSD over the network. This
involves temporarily booting your machine over NFS, just long enough
so you can initialize its disk. This method requires that you have
access to an NFS server on your network so you can configure it to
support diskless boot for your machine. Configuring the NFS server
is normally a task for a system administrator, and is not trivial.
.Pp
If you are using a NetBSD system as the boot-server, have a look at
the
.Xr diskless 8
manual page for guidelines on how to proceed with
this. If the server runs another operating system, consult the
documentation that came with it. (I.e. add_client(8) on SunOS.)
.Pp
You also must install a MOP loader. If you are booting from another
NetBSD machine, MOP are included in the distribution, otherwise you
may have to install a MOP loader. A loader can be found at

\~\~\~\~\~\~
.Lk ftp.stacken.kth.se:/pub/OS/NetBSD/mopd
.Pp
Fetch the latest and read the
installation instructions.
.Pp
The file that should be loaded are called boot and are located in
.Dl .../NetBSD-1.3/vax/install.
If you are not using the mopd written
by Mats O Jansson (NetBSD) then you should get the file
boot.mopformat instead.
.Pp
The miniroot to start from is the one called
.Pa miniroot.tar.gz
located also in the install directory. Fetch it, unzip and untar
it wherever you have your root filesystem.
