
KRB5.CONF(5)               UNIX Programmer's Manual               KRB5.CONF(5)

NNAAMMEE
     //eettcc//kkrrbb55..ccoonnff - configuration file for Kerberos 5

DDEESSCCRRIIPPTTIIOONN
     The //eettcc//kkrrbb55..ccoonnff file specifies several configuration parameters for
     the Kerberos 5 library, as well as for some programs.

     The file consists of one or more sections, containing a number of bind-
     ings. The value of each binding can be either a string or a list of other
     bindings. The grammar looks like:

           file:
                   /* empty */
                   sections

           sections:
                   section sections
                   section

           section:
                   '[' section_name ']' bindings

           section_name:
                   STRING

           bindings:
                   binding bindings
                   binding

           binding:
                   name '=' STRING
                   name '=' '{' bindings '}'

           name:
                   STRING

     STRINGs consists of one or more non-white space characters.  Currently
     recognised sections and bindings are:

           [appdefaults]
                Specifies the default values to be used for Kerberos applica-
                tions.  You can specify defaults per application, realm, or a
                combination of these.  The preference order is:
                1.   _a_p_p_l_i_c_a_t_i_o_n _r_e_a_l_m _o_p_t_i_o_n
                2.   _a_p_p_l_i_c_a_t_i_o_n _o_p_t_i_o_n
                3.   _r_e_a_l_m _o_p_t_i_o_n
                4.   _o_p_t_i_o_n

                The supported options are:

                      forwardable = _b_o_o_l_e_a_n
                           When obtaining initial credentials, make the cre-
                           dentials forwardable.

                      proxiable = _b_o_o_l_e_a_n
                           When obtaining initial credentials, make the cre-
                           dentials proxiable.

                      no-addresses = _b_o_o_l_e_a_n
                           When obtaining initial credentials, request them
                           for an empty set of addresses, making the tickets

                           valid from any address.

                      ticket_lifetime = _t_i_m_e
                           Default ticket lifetime.

                      renew_lifetime = _t_i_m_e
                           Default renewable ticket lifetime.

           [libdefaults]

                      default_realm = _R_E_A_L_M
                           Default realm to use, this is also known as your
                           ``local realm''. The default is the result of
                           kkrrbb55__ggeett__hhoosstt__rreeaallmm(_l_o_c_a_l _h_o_s_t_n_a_m_e).

                      clockskew = _t_i_m_e
                           Maximum time differential (in seconds) allowed when
                           comparing times. Default is 300 seconds (five min-
                           utes).

                      kdc_timeout = _t_i_m_e
                           Maximum time to wait for a reply from the kdc, de-
                           fault is 3 seconds.

                      v4_name_convert

                      v4_instance_resolve
                           These are decribed in the krb5_425_conv_princi-
                           pal(3) manual page.

                      capath = {

                                 _d_e_s_t_i_n_a_t_i_o_n_-_r_e_a_l_m = _n_e_x_t_-_h_o_p_-_r_e_a_l_m

                                 ...
                           Normally, all requests to realms different from the
                           one of the current client are sent to this KDC to
                           get cross-realm tickets.  If this KDC does not have
                           a cross-realm key with the desired realm and the
                           hierarchical path to that realm does not work, a
                           path can be configured using this directive.  The
                           text shown above instructs the KDC to try to obtain
                           a cross-realm ticket to _n_e_x_t_-_h_o_p_-_r_e_a_l_m when the de-
                           sired realm is _d_e_s_t_i_n_a_t_i_o_n_-_r_e_a_l_m. This configura-
                           tion should preferably be done on the KDC where it
                           will help all its clients but can also be done on
                           the client itself.

                      }

                      default_etypes = _e_t_y_p_e_s_._._.
                           A list of default etypes to use.

                      default_etypes_des = _e_t_y_p_e_s_._._.
                           A list of default etypes to use when requesting a
                           DES credential.

                      default_keytab_name = _k_e_y_t_a_b
                           The keytab to use if none other is specified, de-
                           fault is ``FILE:/etc/krb5.keytab''.

                      kdc_timesync = _b_o_o_l_e_a_n
                           Try to keep track of the time differential between
                           the local machine and the KDC, and then compensate


                           for that when issuing requests.

                      max_retries = _n_u_m_b_e_r
                           The max number of times to try to contact each KDC.

                      ticket_lifetime = _t_i_m_e
                           Default ticket lifetime.

                      renew_lifetime = _t_i_m_e
                           Default renewable ticket lifetime.

                      forwardable = _b_o_o_l_e_a_n
                           When obtaining initial credentials, make the cre-
                           dentials forwardable.  This option is also valid in
                           the [realms] section.

                      proxiable = _b_o_o_l_e_a_n
                           When obtaining initial credentials, make the cre-
                           dentials proxiable.  This option is also valid in
                           the [realms] section.

                      verify_ap_req_nofail = _b_o_o_l_e_a_n
                           Enable to make a failure to verify obtained creden-
                           tials non-fatal. This can be useful if there is no
                           keytab on a host.

                      warn_pwexpire = _t_i_m_e
                           How soon to warn for expiring password. Default is
                           seven days.

                      http_proxy = _p_r_o_x_y_-_s_p_e_c
                           A HTTP-proxy to use when talking to the KDC via
                           HTTP.

                      dns_proxy = _p_r_o_x_y_-_s_p_e_c
                           Enable using DNS via HTTP.

                      extra_addresses = _a_d_d_r_e_s_s_._._.
                           A list of addresses to get tickets for along with
                           all local addresses.

                      time_format = _s_t_r_i_n_g
                           How to print time strings in logs, this string is
                           passed to strftime(3).

                      date_format = _s_t_r_i_n_g
                           How to print date strings in logs, this string is
                           passed to strftime(3).

                      log_utc = _b_o_o_l_e_a_n
                           Write log-entries using UTC instead of your local
                           time zone.

                      srv_lookup = _b_o_o_l_e_a_n
                           Use DNS SRV records to lookup realm configuration
                           information.

                      scan_interfaces = _b_o_o_l_e_a_n
                           Scan all network interfaces for addresses, as op-
                           posed to simply using the address associated with
                           the system's host name.

                      fcache_version = _i_n_t
                           Use file credential cache format version specified.

                      krb4_get_tickets = _b_o_o_l_e_a_n
                           Also get Kerberos 4 tickets in kkiinniitt, llooggiinn, and
                           other programs.  This option is also valid in the
                           [realms] section.

           [domain_realm]
                This is a list of mappings from DNS domain to Kerberos realm.
                Each binding in this section looks like:

                      domain = realm

                The domain can be either a full name of a host or a trailing
                component, in the latter case the domain-string should start
                with a perid.

           [realms]

                      _R_E_A_L_M = {

                                 kdc = _h_o_s_t_[_:_p_o_r_t_]
                                      Specifies a list of kdcs for this realm.
                                      If the optional port is absent, the de-
                                      fault value for the ``kerberos/udp''
                                      service will be used.  The kdcs will be
                                      used in the order that they are speci-
                                      fied.

                                 admin_server = _h_o_s_t_[_:_p_o_r_t_]
                                      Specifies the admin server for this
                                      realm, where all the modifications to
                                      the database are perfomed.

                                 kpasswd_server = _h_o_s_t_[_:_p_o_r_t_]
                                      Points to the server where all the pass-
                                      word changes are perfomed.  If there is
                                      no such entry, the kpasswd port on the
                                      admin_server host will be tried.

                                 krb524_server = _H_o_s_t_[_:_p_o_r_t_]
                                      Points to the server that does 524 con-
                                      versions.  If it is not mentioned, the
                                      krb524 port on the kdcs will be tried.

                                 v4_instance_convert

                                 v4_name_convert

                                 default_domain
                                      See krb5_425_conv_principal(3).

                      }

           [logging]

                      _e_n_t_i_t_y = _d_e_s_t_i_n_a_t_i_o_n
                           Specifies that _e_n_t_i_t_y should use the specified
                           destination for logging. See the krb5_openlog(3)
                           manual page for a list of defined destinations.

           [kdc]

                      database = {

                                 dbname = _D_A_T_A_B_A_S_E_N_A_M_E
                                      use this database for this realm.

                                 realm = _R_E_A_L_M
                                      specifies the realm that will be stored
                                      in this database.

                                 mkey_file = _F_I_L_E_N_A_M_E
                                      use this keytab file for the master key
                                      of this database.  If not specified
                                      _D_A_T_A_B_A_S_E_N_A_M_E.mkey will be used.

                                 acl_file = PA FILENAME
                                      use this file for the ACL list of this
                                      database.

                                 log_file = _F_I_L_E_N_A_M_E
                                      use this file as the log of changes per-
                                      formed to the database.  This file is
                                      used by iipprrooppdd--mmaasstteerr for propagating
                                      changes to slaves.

                      }

                      max-request = _S_I_Z_E
                           Maximum size of a kdc request.

                      require-preauth = _B_O_O_L
                           If set pre-authentication is required. Since krb4
                           requests are not pre-authenticated they will be re-
                           jected.

                      ports = _l_i_s_t _o_f _p_o_r_t_s
                           list of ports the kdc should listen to.

                      addresses = _l_i_s_t _o_f _i_n_t_e_r_f_a_c_e_s
                           list of addresses the kdc should bind to.

                      enable-kerberos4 = _B_O_O_L
                           turn on kerberos4 support.

                      v4-realm = _R_E_A_L_M
                           to what realm v4 requests should be mapped.

                      enable-524 = _B_O_O_L
                           should the Kerberos 524 converting facility be
                           turned on. Default is same as _e_n_a_b_l_e_-_k_e_r_b_e_r_o_s_4.

                      enable-http = _B_O_O_L
                           should the kdc answer kdc-requests over http.

                      enable-kaserver = _B_O_O_L
                           if this kdc should emulate the AFS kaserver.

                      check-ticket-addresses = _B_O_O_L
                           verify the addresses in the tickets used in tgs re-
                           quests.

                      allow-null-ticket-addresses = _B_O_O_L
                           allow addresses-less tickets.

                      allow-anonymous = _B_O_O_L
                           if the kdc is allowed to hand out anonymous tick-
                           ets.

                      encode_as_rep_as_tgs_rep = _B_O_O_L
                           encode as-rep as tgs-rep tobe compatible with mis-
                           takes older DCE secd did.

                      kdc_warn_pwexpire = _T_I_M_E
                           the time before expiration that the user should be
                           warned that her password is about to expire.

                      logging = _L_o_g_g_i_n_g
                           What type of logging the kdc should use, see also
                           [logging]/kdc.

           [kadmin]

                      require-preauth = _B_O_O_L
                           If pre-authentication is required to talk to the
                           kadmin server.

                      default_keys = _k_e_y_t_y_p_e_s_._._.
                           for each entry in _d_e_f_a_u_l_t___k_e_y_s try to parse it as a
                           sequence of _e_t_y_p_e_:_s_a_l_t_t_y_p_e_:_s_a_l_t syntax of this if
                           something like:

                           [(des|des3|etype):](pw-salt|afs3-salt)[:string]

                           if _e_t_y_p_e is omitted it means everything, and if
                           string is omitted is means the default string (for
                           that principal). Additional special values of keyt-
                           types are:

                                 v5   The kerberos 5 salt _p_w_-_s_a_l_t

                                 v4   The kerberos 4 type _d_e_s_:_p_w_-_s_a_l_t_:

                      use_v4_salt = _B_O_O_L
                           When true, this is the same as

                           _d_e_f_a_u_l_t___k_e_y_s _= _d_e_s_3_:_p_w_-_s_a_l_t _v_4

                           and is only left for backwards compatability.

EENNVVIIRROONNMMEENNTT
     KRB5_CONFIG points to the configuration file to read.

EEXXAAMMPPLLEE
           [libdefaults]
                   default_realm = FOO.SE
           [domain_realm]
                   .foo.se = FOO.SE
                   .bar.se = FOO.SE
           [realms]
                   FOO.SE = {
                           kdc = kerberos.foo.se
                           v4_name_convert = {
                                   rcmd = host
                           }
                           v4_instance_convert = {
                                   xyz = xyz.bar.se
                           }
                           default_domain = foo.se
                   }
           [logging]
                   kdc = FILE:/var/heimdal/kdc.log
                   kdc = SYSLOG:INFO
                   default = SYSLOG:INFO:USER

DDIIAAGGNNOOSSTTIICCSS
     Since //eettcc//kkrrbb55..ccoonnff is read and parsed by the krb5 library, there is not
     a lot of opportunities for programs to report parsing errors in any use-
     ful format.  To help overcome this problem, there is a program
     vveerriiffyy__kkrrbb55__ccoonnff that reads //eettcc//kkrrbb55..ccoonnff and tries to emit useful diag-
     nostics from parsing errors.  Note that this program does not have any
     way of knowing what options are actually used and thus cannot warn about
     unknown or misspelled ones.

SSEEEE AALLSSOO
     kinit(1),  krb5_425_conv_principal(3),  krb5_openlog(3),  strftime(3),
     verify_krb5_conf(8)

 HEIMDAL                        April 11, 1999                               7
