#! /bin/sh

INFILE=/tmp/sort-input.$$
OUTFILE=/tmp/sort-output.$$

trap "rm -f $INFFILE $OUTFILE; echo FAILED; exit 0" 1 ILL TRAP ABRT BUS SEGV

printf "a b \na b\n" > $INFILE
sort +3 $INFILE > $OUTFILE || { echo "FAILED"; rm -f $INFILE $OUTFILE; exit 0; }

if cmp $INFILE $OUTFILE
then
	echo PASSED
else
	echo FAILED
fi

rm -f $INFILE $OUTFILE
