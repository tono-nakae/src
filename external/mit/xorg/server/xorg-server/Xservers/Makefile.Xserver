#	$NetBSD: Makefile.Xserver,v 1.1 2008/08/03 03:37:05 mrg Exp $

# XXX old list
.if 0
.for _SL in	dix os mi composite damage miext/damage \
		Xext/ext Xext/exts GL/glx GL/GLcore xkb dbe \
		record randr render xtrap mfb iplan2p4 iplan2p8 \
		cfb cfb16 cfb24 cfb32 fb xfixes miext/cw \
		hw/xnest hw/vfb fontbase afb \
		\
		dix/xpstubs hw/sun hw/xfree86/xf86 hw/xfree86/xf86_os \
		hw/xfree86/xf86config hw/xfree86/loader \
		\
		hw/netbsd/macppc hw/netbsd/hpc hw/netbsd/x68k \
		hw/netbsd/mac68k hw/netbsd/amiga hw/netbsd/dec \
		hw/netbsd/arm32vidc hw/netbsd/alpha hw/netbsd/dreamcast \
		hw/netbsd/newsmips
.endfor
.endif

.for _SL in \
	mi \
	config \
	fb \
	xfixes \
	Xext/Xextbuiltin \
	dbe \
	XTrap \
	record \
	render \
	randr \
	damageext \
	miext/damage \
	miext/shadow \
	Xi \
	xkb \
	composite \
	dix/xpstubs \
	os \
	dix \
	config \
	hw/xnest

.if !defined(LIBDIR.${_SL})
LIBDIR.${_SL}!=	cd ${NETBSDSRCDIR}/external/mit/xorg/server/xorg-server/${_SL} && ${PRINTOBJDIR}
.MAKEOVERRIDES+=LIBDIR.${_SL}
.endif
LDADD.${_SL}=	${LIBDIR.${_SL}}/lib${_SL:T}.a
DPADD.${_SL}=	${LIBDIR.${_SL}}/lib${_SL:T}.a
.endfor

LDADD.XORG_CORE=	${LDADD.dix} ${LDADD.config}
DPADD.XORG_CORE=	${DPADD.dix} ${DPADD.config}

LIBCWRAPPER=	${LIBDIR.os}/libc_wrapper.o
